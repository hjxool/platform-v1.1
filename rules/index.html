<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="../module/element-ui.css">
  <link rel="stylesheet" href="../module/common_style.css">
  <link rel="stylesheet" href="./index.css">
</head>

<body>
  <div id="index" v-cloak v-loading="html.loading">
    <div class="header">
      <el-button type="primary" round @click="add_rules">新增规则</el-button>
    </div>
    <!-- 表格 -->
    <div style="padding:0 10px;overflow: auto;">
      <el-table :data="rule_list" border>
        <el-table-column prop="name" label="规则名称"></el-table-column>
        <el-table-column prop="scenes" label="订阅场景"></el-table-column>
        <el-table-column prop="createAt" label="创建时间"></el-table-column>
        <el-table-column prop="updateAt" label="修改时间"></el-table-column>
        <el-table-column label="操作" width="100" fixed="right">
          <template slot-scope="scope">
            <el-button @click="edit_rule(scope.row)" type="text" size="small">编辑</el-button>
            <el-button @click="delete_rule(scope.row)" type="text" size="small">删除</el-button>
          </template>
        </el-table-column>
      </el-table>
    </div>
    <!-- 新增/编辑规则 -->
    <div class="custom_center" v-show="html.rule_config">
      <el-card class="card_size" shadow="hover">
        <div class="card_layout">
          <!-- 表单 -->
          <div class="rule_layout">
            <span class="title">编辑规则</span>
            <el-form label-width="100px">
              <el-form-item label="条件表达式" size="medium">
                <el-input v-model="form.exp" @change="throttle(identify_symbol,1500,form.exp)" placeholder="请输入表达式">
                </el-input>

              </el-form-item>
            </el-form>
          </div>
          <!-- JSON文本 -->
          <div class="rule_layout">
            <span class="title">物模型属性列表</span>
            <el-input type="textarea" autosize v-model="json_text"></el-input>
          </div>
        </div>
      </el-card>
    </div>
  </div>

  <script src="../../运维人员部署请修改我.js"></script>
  <script src="../module/vue.js"></script>
  <script src="../module/element-ui.js"></script>
  <script src="../module/axios.min.js"></script>
  <script src="../module/common_function.js"></script>
  <script src="./index.js"></script>
</body>

</html>